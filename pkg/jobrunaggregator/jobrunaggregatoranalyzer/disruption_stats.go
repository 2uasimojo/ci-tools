package jobrunaggregatoranalyzer

import "github.com/openshift/ci-tools/pkg/jobrunaggregator/jobrunaggregatorapi"

type backendDisruptionStats struct {
	rowData                jobrunaggregatorapi.BackendDisruptionStatisticsRow
	percentileToDisruption map[int]float64
	// indexes are percentiles, so 1-99
	percentileByIndex []float64
}

func constructBackendDisruptionStats(rowData jobrunaggregatorapi.BackendDisruptionStatisticsRow) backendDisruptionStats {
	stats := backendDisruptionStats{
		rowData: rowData,
		percentileToDisruption: map[int]float64{
			1:  rowData.P1,
			2:  rowData.P2,
			3:  rowData.P3,
			4:  rowData.P4,
			5:  rowData.P5,
			6:  rowData.P6,
			7:  rowData.P7,
			8:  rowData.P8,
			9:  rowData.P9,
			10: rowData.P10,
			11: rowData.P11,
			12: rowData.P12,
			13: rowData.P13,
			14: rowData.P14,
			15: rowData.P15,
			16: rowData.P16,
			17: rowData.P17,
			18: rowData.P18,
			19: rowData.P19,
			20: rowData.P20,
			21: rowData.P21,
			22: rowData.P22,
			23: rowData.P23,
			24: rowData.P24,
			25: rowData.P25,
			26: rowData.P26,
			27: rowData.P27,
			28: rowData.P28,
			29: rowData.P29,
			30: rowData.P30,
			31: rowData.P31,
			32: rowData.P32,
			33: rowData.P33,
			34: rowData.P34,
			35: rowData.P35,
			36: rowData.P36,
			37: rowData.P37,
			38: rowData.P38,
			39: rowData.P39,
			40: rowData.P40,
			41: rowData.P41,
			42: rowData.P42,
			43: rowData.P43,
			44: rowData.P44,
			45: rowData.P45,
			46: rowData.P46,
			47: rowData.P47,
			48: rowData.P48,
			49: rowData.P49,
			50: rowData.P50,
			51: rowData.P51,
			52: rowData.P52,
			53: rowData.P53,
			54: rowData.P54,
			55: rowData.P55,
			56: rowData.P56,
			57: rowData.P57,
			58: rowData.P58,
			59: rowData.P59,
			60: rowData.P60,
			61: rowData.P61,
			62: rowData.P62,
			63: rowData.P63,
			64: rowData.P64,
			65: rowData.P65,
			66: rowData.P66,
			67: rowData.P67,
			68: rowData.P68,
			69: rowData.P69,
			70: rowData.P70,
			71: rowData.P71,
			72: rowData.P72,
			73: rowData.P73,
			74: rowData.P74,
			75: rowData.P75,
			76: rowData.P76,
			77: rowData.P77,
			78: rowData.P78,
			79: rowData.P79,
			80: rowData.P80,
			81: rowData.P81,
			82: rowData.P82,
			83: rowData.P83,
			84: rowData.P84,
			85: rowData.P85,
			86: rowData.P86,
			87: rowData.P87,
			88: rowData.P88,
			89: rowData.P89,
			90: rowData.P90,
			91: rowData.P91,
			92: rowData.P92,
			93: rowData.P93,
			94: rowData.P94,
			95: rowData.P95,
			96: rowData.P96,
			97: rowData.P97,
			98: rowData.P98,
			99: rowData.P99,
		},
		percentileByIndex: []float64{
			0,
			rowData.P1,
			rowData.P2,
			rowData.P3,
			rowData.P4,
			rowData.P5,
			rowData.P6,
			rowData.P7,
			rowData.P8,
			rowData.P9,
			rowData.P10,
			rowData.P11,
			rowData.P12,
			rowData.P13,
			rowData.P14,
			rowData.P15,
			rowData.P16,
			rowData.P17,
			rowData.P18,
			rowData.P19,
			rowData.P20,
			rowData.P21,
			rowData.P22,
			rowData.P23,
			rowData.P24,
			rowData.P25,
			rowData.P26,
			rowData.P27,
			rowData.P28,
			rowData.P29,
			rowData.P30,
			rowData.P31,
			rowData.P32,
			rowData.P33,
			rowData.P34,
			rowData.P35,
			rowData.P36,
			rowData.P37,
			rowData.P38,
			rowData.P39,
			rowData.P40,
			rowData.P41,
			rowData.P42,
			rowData.P43,
			rowData.P44,
			rowData.P45,
			rowData.P46,
			rowData.P47,
			rowData.P48,
			rowData.P49,
			rowData.P50,
			rowData.P51,
			rowData.P52,
			rowData.P53,
			rowData.P54,
			rowData.P55,
			rowData.P56,
			rowData.P57,
			rowData.P58,
			rowData.P59,
			rowData.P60,
			rowData.P61,
			rowData.P62,
			rowData.P63,
			rowData.P64,
			rowData.P65,
			rowData.P66,
			rowData.P67,
			rowData.P68,
			rowData.P69,
			rowData.P70,
			rowData.P71,
			rowData.P72,
			rowData.P73,
			rowData.P74,
			rowData.P75,
			rowData.P76,
			rowData.P77,
			rowData.P78,
			rowData.P79,
			rowData.P80,
			rowData.P81,
			rowData.P82,
			rowData.P83,
			rowData.P84,
			rowData.P85,
			rowData.P86,
			rowData.P87,
			rowData.P88,
			rowData.P89,
			rowData.P90,
			rowData.P91,
			rowData.P92,
			rowData.P93,
			rowData.P94,
			rowData.P95,
			rowData.P96,
			rowData.P97,
			rowData.P98,
			rowData.P99,
		},
	}

	return stats
}
